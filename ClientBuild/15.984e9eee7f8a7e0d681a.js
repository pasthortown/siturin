(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"2ugA":function(t,n,e){"use strict";var l=e("CcnG");n.NgTableSortingDirective=function(){function t(){this.sortChanged=new l.EventEmitter}return Object.defineProperty(t.prototype,"config",{get:function(){return this.ngTableSorting},set:function(t){this.ngTableSorting=t},enumerable:!0,configurable:!0}),t.prototype.onToggleSort=function(t){if(t&&t.preventDefault(),this.ngTableSorting&&this.column&&!1!==this.column.sort){switch(this.column.sort){case"asc":this.column.sort="desc";break;case"desc":this.column.sort="";break;default:this.column.sort="asc"}this.sortChanged.emit(this.column)}},t.decorators=[{type:l.Directive,args:[{selector:"[ngTableSorting]"}]}],t.ctorParameters=[],t.propDecorators={ngTableSorting:[{type:l.Input}],column:[{type:l.Input}],sortChanged:[{type:l.Output}],config:[{type:l.Input}],onToggleSort:[{type:l.HostListener,args:["click",["$event"]]}]},t}()},"4NRs":function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=function(){return function(){this.identification=""}}()},"7QCc":function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=function(){return function(){this.code="",this.father_code="",this.name="",this.acronym="",this.gmap_reference_latitude=-.2153676,this.gmap_reference_longitude=-78.5036064}}()},FVSd:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var l=e("sE5F"),i=e("AytR"),r=e("CcnG"),o=e("ZYCi"),s=function(){function t(t,n){this.http=t,this.router=n,this.url=i.a.api_dinardap,this.options=new l.g,this.options.headers=new l.d,this.options.headers.append("api_token",sessionStorage.getItem("api_token"))}return t.prototype.get_cedula=function(t){var n=this;return this.http.post(this.url+"cedula",JSON.stringify({identificacion:t}),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.get_RUC=function(t){var n=this;return this.http.post(this.url+"ruc",JSON.stringify({RUC:t}),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.get_super_cias=function(t){var n=this;return this.http.post(this.url+"supercias",JSON.stringify({identificacion:t}),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.handledError=function(t){console.log(t)},t.ngInjectableDef=r.defineInjectable({factory:function(){return new t(r.inject(l.e),r.inject(o.l))},token:t,providedIn:"root"}),t}()},"Ifv+":function(t,n,e){"use strict";e.r(n);var l=e("CcnG"),i=function(){return function(){}}(),r=e("pMnS"),o=e("cfkQ"),s=e("z8lh"),u=e("ZYjt"),a=e("9AJC"),c=e("4GxJ"),h=e("Ip0R"),d=e("gIcY"),g=e("iNZF"),f=e("FVSd"),p=e("qYr5"),m=e("pQVB"),v=e("m3oD"),b=e("7QCc"),_=e("WXJV"),y=e("SwDF"),C=function(){function t(t,n,e,l,i,r){this.dinardapDataService=t,this.consultorDataService=n,this.ubicationDataService=e,this.stateDataService=l,this.register_typeDataService=i,this.register_typeABDataService=r,this.rucValidated=!1,this.rucData="",this.ruc=new p.a,this.consumoRuc=!1,this.SRIOK=!1,this.razon_social="",this.states=[],this.registers_selected=[],this.mostrarEstablecimientos=!1,this.registersAlojamiento=[],this.registersAlimentosBebidas=[],this.currentPageRegisters=1,this.recordsByPageRegisters=5,this.establishments=[],this.states_selected=[],this.register_types=[],this.register_types_AB=[],this.currentPageEstablishments=1,this.recordsByPageEstablishments=5,this.config={paging:!0,filtering:{filterString:""},className:["table-striped","table-hover","table-bordered"]},this.rows=[],this.columns=[],this.rowsRegisters=[],this.columnsRegisters=[],this.data=[],this.dataRegisters=[],this.ubications=[],this.mostrarRegistros=!1,this.establishment_id_selected=0,this.bitacora=[],this.mostrarStates=!1,this.states_to_show=[]}return t.prototype.ngOnInit=function(){this.getUbications(),this.getRegisterTypes(),this.getStates()},t.prototype.getRegisterTypes=function(){var t=this;this.register_typeDataService.get().then(function(n){t.register_types=n,t.getRegisterTypesAB()}).catch(function(t){console.log(t)})},t.prototype.getRegisterTypesAB=function(){var t=this;this.register_typeABDataService.get().then(function(n){t.register_types_AB=n}).catch(function(t){console.log(t)})},t.prototype.checkRuc=function(){var t=this;if(this.rucData='<div class="progress mb-3"><div class="progress-bar progress-bar-striped progress-bar-animated bg-warning col-12">Espere...</div></div><div class="col-12 text-center"><strong>Conect\xe1ndose al SRI...</strong></div>',this.ruc.number=this.ruc.number.replace(/[^\d]/,""),13!==this.ruc.number.length)return this.rucValidated=!1,this.consumoRuc=!1,this.SRIOK=!1,this.mostrarRegistros=!1,this.mostrarStates=!1,this.mostrarEstablecimientos=!1,this.ruc.baised_accounting=!1,void(this.ruc.tax_payer_type_id=1);this.consumoRuc||(this.consumoRuc=!0,this.rucValidated=!0,this.dinardapDataService.get_RUC(this.ruc.number).then(function(n){t.SRIOK=!0,t.rucValidated=!0;var e=n.sri_ruc.original.entidades.entidad.filas.fila.columnas.columna,l=n.sri_ruc_completo.original.entidades.entidad;t.rucData="";var i="",r="",o="",s="";l.forEach(function(n){"Actividad Economica"==n.nombre&&n.filas.fila.columnas.columna.forEach(function(t){"actividadGeneral"==t.campo&&(o+="<strong>Actividad Econ\xf3mica: </strong> "+t.valor+"<br/>")}),"Contribuyente Datos Completo"==n.nombre&&n.filas.fila.columnas.columna.forEach(function(n){"razonSocial"==n.campo&&(i+="<strong>Raz\xf3n Social: </strong> "+n.valor+"<br/>",t.razon_social=n.valor),"email"==n.campo&&"{}"!==JSON.stringify(n.valor)&&(s+="<strong>Correo Electr\xf3nico - Registrado en SRI: </strong> "+n.valor+"<br/>"),"telefonoDomicilio"==n.campo&&"{}"!==JSON.stringify(n.valor)&&(s+="<strong>Tel\xe9fono Domicilio - Registrado en SRI: </strong> "+n.valor+"<br/>")}),"Representante Legal"==n.nombre&&n.filas.fila.columnas.columna.forEach(function(n){"identificacion"==n.campo&&(r+="<strong>Identificaci\xf3n Representante Legal: </strong> "+n.valor+"<br/>","{}"!==JSON.stringify(n.valor)&&(t.ruc.person_representative.identification=n.valor)),"nombre"==n.campo&&(r+="<strong>Nombre Representante Legal: </strong> "+n.valor+"<br/>")})}),e.forEach(function(n){"estadoContribuyente"==n.campo&&(i+="<strong>Estado Contribuyente: </strong> "+n.valor+"<br/>"),"fechaInscripcionRuc"==n.campo&&(i+="<strong>Fecha de Inscripci\xf3n del RUC: </strong> "+n.valor+"<br/>"),"fechaActualizacion"==n.campo&&(i+="<strong>Fecha de Actualizaci\xf3n: </strong> "+n.valor+"<br/>"),"obligado"==n.campo&&("N"==n.valor?(t.ruc.baised_accounting=!1,i+="<strong>Obligado a Llevar Contabilidad: </strong> NO<br/>"):(t.ruc.baised_accounting=!0,i+="<strong>Obligado a Llevar Contabilidad: </strong> SI<br/>")),"personaSociedad"==n.campo&&(t.ruc.tax_payer_type_id="PNL"==n.valor?1:2,i+="<strong>Tipo de Contribuyente: </strong> "+n.valor+"<br/>"),t.rucData=i+o+s,1!=t.ruc.tax_payer_type_id&&(t.rucData+=r)})}).catch(function(n){console.log(n),t.rucData='<div class="alert alert-danger" role="alert">El SRI, no respondi\xf3. Vuelva a intentarlo.</div>',t.consumoRuc=!1,t.SRIOK=!1}))},t.prototype.getRegisterCategory=function(t,n){var e="",l="";return"ALOJAMIENTO"==n&&(this.register_types.forEach(function(n){n.id==t&&(e=n.name,l=n.father_code)}),this.register_types.forEach(function(t){t.code==l&&(e=t.name+" - "+e)})),"ALIMENTOS Y BEBIDAS"==n&&(this.register_types_AB.forEach(function(n){n.id==t&&(e=n.name,"Pendiente"==n.name&&(e="No Cumple Inspecci\xf3n (No Tur\xedstico)"),l=n.father_code)}),this.register_types_AB.forEach(function(t){t.code==l&&(e=t.name+" - "+e)})),e},t.prototype.onCellClick=function(t){var n=this;this.rows.forEach(function(e){e==t.row?(e.selected='<div class="col-12 text-right"><span class="far fa-hand-point-right"></span></div>',n.registers_selected=e.registers,n.buildDataTableRegisters()):e.selected=""})},t.prototype.buildDataTableRegisters=function(){var t=this;this.mostrarStates=!1,this.states_selected=[],this.mostrarRegistros=!0,this.columnsRegisters=[{title:"",name:"selected"},{title:"Actividad",name:"actividad"},{title:"Clasificaci\xf3n - Categor\xeda",name:"category"},{title:"N\xfamero de Registro",name:"code"},{title:"Tr\xe1mite",name:"tramit"}];var n=[];this.registers_selected.forEach(function(e){var l="INACTIVO";"INACTIVACI\xd3N"!==e.state&&(l=t.getRegisterCategory(e.register.register_type_id,e.activity).toString().toUpperCase()),n.push({selected:"",id:e.register.id,actividad:e.activity,created_at:e.register.created_at,code:e.register.code,category:l,tramit:e.state,states:e.states})}),n.sort(function(t,n){var e=new Date(t.created_at.toString()),l=new Date(n.created_at.toString());return e.getTime()>l.getTime()?1:e.getTime()<l.getTime()?-1:0}),this.dataRegisters=n,this.onChangeTableRegisters(this.config)},t.prototype.getStates=function(){var t=this;this.states=[],this.stateDataService.get().then(function(n){t.states=n}).catch(function(t){console.log(t)})},t.prototype.buscarBitacora=function(){var t=this;this.consultorDataService.get_bitacora(this.ruc.number).then(function(n){var e=n;t.mostrarEstablecimientos=!0,t.buildBitacora(e)}).catch(function(t){console.log(t)})},t.prototype.buildBitacora=function(t){var n=this;this.bitacora=[],this.establishments=[],t.forEach(function(t){var e=!1;n.establishments.forEach(function(n){n.id==t.data.establishment.id&&(e=!0)}),e||t.data.register_data.length>0&&n.establishments.push({establishment:t.data.establishment,activity:t.activity})}),this.establishments.forEach(function(e){var l={establishment:e,registers:[]};t.forEach(function(t){e.establishment.id==t.data.establishment.id&&t.activity==e.activity&&t.data.register_data.forEach(function(e){var i=n.getTramiteByState(e.state_id),r=!1;l.registers.forEach(function(t){t.register.id==e.id&&t.state==i&&t.register.code==e.code&&(r=!0)}),r||l.registers.push({register:e,activity:t.activity,state:i,states:[]})})}),n.bitacora.push(l)}),this.bitacora.forEach(function(e){e.registers.forEach(function(l){var i=[];t.forEach(function(t){t.activity==e.establishment.activity&&t.data.register_data.forEach(function(t){var e=n.getTramiteByState(t.state_id);l.register.id==t.id&&l.state==e&&i.push(t)})}),l.states=i})}),this.buildDataTable()},t.prototype.getTramiteByState=function(t){var n="";return t>=11&&t<=20&&(n="REGISTRO"),t>=21&&t<=30&&(n="RECLASIFICACI\xd3N"),t>=31&&t<=40&&(n="RECATEGORIZACI\xd3N"),t>=41&&t<=50&&(n="ACTUALIZACI\xd3N"),t>=51&&t<=60&&(n="INACTIVACI\xd3N"),t>=61&&t<=70&&(n="REINGRESO"),n},t.prototype.getUbications=function(){var t=this;this.ubications=[],this.ubicationDataService.get().then(function(n){t.ubications=n}).catch(function(t){console.log(t)})},t.prototype.buildDataTable=function(){var t=this;this.columns=[{title:"",name:"selected"},{title:"N\xfamero de Establecimiento",name:"ruc_code_id"},{title:"Actividad",name:"activity"},{title:"Nombre Comercial",name:"establishment"},{title:"Provincia",name:"provincia"},{title:"Cant\xf3n",name:"canton"},{title:"Parroquia",name:"parroquia"},{title:"Direcci\xf3n",name:"address"}];var n=[];this.bitacora.forEach(function(e){var l=e.establishment.establishment,i=new b.a,r=new b.a,o=new b.a;new b.a,t.ubications.forEach(function(t){t.id==l.ubication_id&&(o=t)}),t.ubications.forEach(function(t){t.code==o.father_code&&(r=t)}),t.ubications.forEach(function(t){t.code==r.father_code&&(i=t)}),t.ubications.forEach(function(t){}),n.push({selected:"",id:l.id,provincia:i.name,canton:r.name,parroquia:o.name,ruc_code_id:l.ruc_code_id,establishment:l.commercially_known_name,activity:e.establishment.activity,registers:e.registers,address:l.address_main_street+" "+l.address_number+" "+l.address_secondary_street}),n.sort(function(t,n){return t.ruc_code_id>n.ruc_code_id?1:t.ruc_code_id<n.ruc_code_id?-1:0})}),this.data=n,this.onChangeTable(this.config)},t.prototype.onChangeTable=function(t,n){var e={page:this.currentPageEstablishments,itemsPerPage:this.recordsByPageEstablishments};t.filtering&&Object.assign(this.config.filtering,t.filtering),t.sorting&&Object.assign(this.config.sorting,t.sorting);var l=this.changeFilter(this.data,this.config),i=this.changeSort(l,this.config);this.rows=e&&t.paging?this.changePage(e,i):i},t.prototype.changeFilter=function(t,n){var e=this;this.rows.forEach(function(t){t.selected=""});var l=t;if(this.columns.forEach(function(t){t.filtering&&(l=l.filter(function(n){return n[t.name].toUpperCase().match(t.filtering.filterString.toUpperCase())}))}),!n.filtering)return l;if(n.filtering.columnName)return l.filter(function(t){return t[n.filtering.columnName].match(e.config.filtering.filterString)});var i=[];return l.forEach(function(t){var n=!1;e.columns.forEach(function(l){t[l.name].toString().match(e.config.filtering.filterString)&&(n=!0)}),n&&i.push(t)}),l=i},t.prototype.changeSort=function(t,n){if(!n.sorting)return t;for(var e=this.config.sorting.columns||[],l=void 0,i=void 0,r=0;r<e.length;r++)""!==e[r].sort&&!1!==e[r].sort&&(l=e[r].name,i=e[r].sort);return l?t.sort(function(t,n){return t[l]>n[l]?"desc"===i?-1:1:t[l]<n[l]?"asc"===i?-1:1:0}):t},t.prototype.changePage=function(t,n){void 0===n&&(n=this.data);var e=(t.page-1)*t.itemsPerPage;return n.slice(e,t.itemsPerPage>-1?e+t.itemsPerPage:n.length)},t.prototype.onChangeTableRegisters=function(t,n){var e={page:this.currentPageRegisters,itemsPerPage:this.recordsByPageRegisters};t.filtering&&Object.assign(this.config.filtering,t.filtering),t.sorting&&Object.assign(this.config.sorting,t.sorting);var l=this.changeFilterRegisters(this.dataRegisters,this.config),i=this.changeSortRegisters(l,this.config);this.rowsRegisters=e&&t.paging?this.changePageRegisters(e,i):i},t.prototype.changeFilterRegisters=function(t,n){var e=this;this.rowsRegisters.forEach(function(t){t.selected=""});var l=t;if(this.columnsRegisters.forEach(function(t){t.filtering&&(l=l.filter(function(n){return n[t.name].toUpperCase().match(t.filtering.filterString.toUpperCase())}))}),!n.filtering)return l;if(n.filtering.columnName)return l.filter(function(t){return t[n.filtering.columnName].match(e.config.filtering.filterString)});var i=[];return l.forEach(function(t){var n=!1;e.columnsRegisters.forEach(function(l){t[l.name].toString().match(e.config.filtering.filterString)&&(n=!0)}),n&&i.push(t)}),l=i},t.prototype.changeSortRegisters=function(t,n){if(!n.sorting)return t;for(var e=this.config.sorting.columns||[],l=void 0,i=void 0,r=0;r<e.length;r++)""!==e[r].sort&&!1!==e[r].sort&&(l=e[r].name,i=e[r].sort);return l?t.sort(function(t,n){return t[l]>n[l]?"desc"===i?-1:1:t[l]<n[l]?"asc"===i?-1:1:0}):t},t.prototype.changePageRegisters=function(t,n){void 0===n&&(n=this.dataRegisters);var e=(t.page-1)*t.itemsPerPage;return n.slice(e,t.itemsPerPage>-1?e+t.itemsPerPage:n.length)},t.prototype.getRegisterState=function(t){var n="",e="";return this.states.forEach(function(l){l.id==t&&(n=l.name,e=l.father_code)}),this.states.forEach(function(t){t.code==e&&(n=t.name+" - "+n)}),n},t.prototype.onCellClickRegisters=function(t){var n=this;this.rowsRegisters.forEach(function(e){e==t.row?(e.selected='<div class="col-12 text-right"><span class="far fa-hand-point-right"></span></div>',n.states_selected=e.states,n.states_selected.sort(function(t,n){var e=new Date(t.created_at.toString()),l=new Date(n.created_at.toString());return e.getTime()>l.getTime()?1:e.getTime()<l.getTime()?-1:0}),n.states_to_show=[],n.states_selected.forEach(function(t){n.states_to_show.push({state:t,state_name:n.getRegisterState(t.state_id),last:!1})}),n.states_to_show[n.states_to_show.length-1].last=!0,n.mostrarStates=!0):e.selected=""})},t}(),R=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function E(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"span",[["class","ml-2 badge badge-danger"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Incorrecto"]))],null,null)}function j(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"div",[["class","col-12 mb-3"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,0,"small",[["class","form-text text-muted"],["id","rucDataIncomming"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(t,n){t(n,1,0,n.component.rucData)})}function S(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,2,"button",[["class","btn btn-info"],["type","button"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.buscarBitacora()&&l),l},null,null)),(t()(),l["\u0275eld"](1,0,null,null,0,"span",[["class","fas fa-search"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["\xa0Consultar"]))],null,null)}function I(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,2,"h4",[["class","col-12"]],null,null,null,null,null)),(t()(),l["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["\xa0Listado de Establecimientos"]))],null,null)}function w(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,4,"div",[["style","width: 100%; overflow-x: auto;"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),l["\u0275eld"](2,0,null,null,2,"div",[["class","col-12 mt-2"]],null,null,null,null,null)),(t()(),l["\u0275eld"](3,0,null,null,1,"ng-table",[],null,[[null,"cellClicked"],[null,"tableChanged"]],function(t,n,e){var l=!0,i=t.component;return"cellClicked"===n&&(l=!1!==i.onCellClick(e)&&l),"tableChanged"===n&&(l=!1!==i.onChangeTable(i.config)&&l),l},o.b,o.a)),l["\u0275did"](4,49152,null,0,s.NgTableComponent,[u.DomSanitizer],{rows:[0,"rows"],config:[1,"config"],columns:[2,"columns"]},{tableChanged:"tableChanged",cellClicked:"cellClicked"})],function(t,n){var e=n.component;t(n,4,0,e.rows,e.config,e.columns)},null)}function T(t){return l["\u0275vid"](0,[(t()(),l["\u0275ted"](-1,null,["Primera"]))],null,null)}function P(t){return l["\u0275vid"](0,[(t()(),l["\u0275ted"](-1,null,["Anterior"]))],null,null)}function N(t){return l["\u0275vid"](0,[(t()(),l["\u0275ted"](-1,null,["Siguiente"]))],null,null)}function D(t){return l["\u0275vid"](0,[(t()(),l["\u0275ted"](-1,null,["\xdaltima"]))],null,null)}function k(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,15,"ngb-pagination",[["role","navigation"]],null,[[null,"pageChange"]],function(t,n,e){var l=!0,i=t.component;return"pageChange"===n&&(l=!1!==(i.currentPageEstablishments=e)&&l),"pageChange"===n&&(l=!1!==i.onChangeTable(i.config,e)&&l),l},a.g,a.d)),l["\u0275did"](1,573440,null,6,c.C,[c.D],{boundaryLinks:[0,"boundaryLinks"],collectionSize:[1,"collectionSize"],maxSize:[2,"maxSize"],page:[3,"page"],pageSize:[4,"pageSize"]},{pageChange:"pageChange"}),l["\u0275qud"](335544320,1,{tplEllipsis:0}),l["\u0275qud"](335544320,2,{tplFirst:0}),l["\u0275qud"](335544320,3,{tplLast:0}),l["\u0275qud"](335544320,4,{tplNext:0}),l["\u0275qud"](335544320,5,{tplNumber:0}),l["\u0275qud"](335544320,6,{tplPrevious:0}),(t()(),l["\u0275and"](0,null,null,1,null,T)),l["\u0275did"](9,16384,[[2,4]],0,c.E,[l.TemplateRef],null,null),(t()(),l["\u0275and"](0,null,null,1,null,P)),l["\u0275did"](11,16384,[[6,4]],0,c.I,[l.TemplateRef],null,null),(t()(),l["\u0275and"](0,null,null,1,null,N)),l["\u0275did"](13,16384,[[4,4]],0,c.H,[l.TemplateRef],null,null),(t()(),l["\u0275and"](0,null,null,1,null,D)),l["\u0275did"](15,16384,[[3,4]],0,c.F,[l.TemplateRef],null,null)],function(t,n){var e=n.component;t(n,1,0,!0,e.establishments.length,10,e.currentPageEstablishments,e.recordsByPageEstablishments)},null)}function F(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,k)),l["\u0275did"](3,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,3,0,n.component.config.paging)},null)}function O(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","row mt-2"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,2,"h4",[["class","col-12"]],null,null,null,null,null)),(t()(),l["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["\xa0Listado de Registros"]))],null,null)}function A(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,4,"div",[["style","width: 100%; overflow-x: auto;"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),l["\u0275eld"](2,0,null,null,2,"div",[["class","col-12 mt-2"]],null,null,null,null,null)),(t()(),l["\u0275eld"](3,0,null,null,1,"ng-table",[],null,[[null,"cellClicked"],[null,"tableChanged"]],function(t,n,e){var l=!0,i=t.component;return"cellClicked"===n&&(l=!1!==i.onCellClickRegisters(e)&&l),"tableChanged"===n&&(l=!1!==i.onChangeTableRegisters(i.config)&&l),l},o.b,o.a)),l["\u0275did"](4,49152,null,0,s.NgTableComponent,[u.DomSanitizer],{rows:[0,"rows"],config:[1,"config"],columns:[2,"columns"]},{tableChanged:"tableChanged",cellClicked:"cellClicked"})],function(t,n){var e=n.component;t(n,4,0,e.rowsRegisters,e.config,e.columnsRegisters)},null)}function V(t){return l["\u0275vid"](0,[(t()(),l["\u0275ted"](-1,null,["Primera"]))],null,null)}function z(t){return l["\u0275vid"](0,[(t()(),l["\u0275ted"](-1,null,["Anterior"]))],null,null)}function x(t){return l["\u0275vid"](0,[(t()(),l["\u0275ted"](-1,null,["Siguiente"]))],null,null)}function B(t){return l["\u0275vid"](0,[(t()(),l["\u0275ted"](-1,null,["\xdaltima"]))],null,null)}function L(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,15,"ngb-pagination",[["role","navigation"]],null,[[null,"pageChange"]],function(t,n,e){var l=!0,i=t.component;return"pageChange"===n&&(l=!1!==(i.currentPageRegisters=e)&&l),"pageChange"===n&&(l=!1!==i.onChangeTableRegisters(i.config,e)&&l),l},a.g,a.d)),l["\u0275did"](1,573440,null,6,c.C,[c.D],{boundaryLinks:[0,"boundaryLinks"],collectionSize:[1,"collectionSize"],maxSize:[2,"maxSize"],page:[3,"page"],pageSize:[4,"pageSize"]},{pageChange:"pageChange"}),l["\u0275qud"](335544320,7,{tplEllipsis:0}),l["\u0275qud"](335544320,8,{tplFirst:0}),l["\u0275qud"](335544320,9,{tplLast:0}),l["\u0275qud"](335544320,10,{tplNext:0}),l["\u0275qud"](335544320,11,{tplNumber:0}),l["\u0275qud"](335544320,12,{tplPrevious:0}),(t()(),l["\u0275and"](0,null,null,1,null,V)),l["\u0275did"](9,16384,[[8,4]],0,c.E,[l.TemplateRef],null,null),(t()(),l["\u0275and"](0,null,null,1,null,z)),l["\u0275did"](11,16384,[[12,4]],0,c.I,[l.TemplateRef],null,null),(t()(),l["\u0275and"](0,null,null,1,null,x)),l["\u0275did"](13,16384,[[10,4]],0,c.H,[l.TemplateRef],null,null),(t()(),l["\u0275and"](0,null,null,1,null,B)),l["\u0275did"](15,16384,[[9,4]],0,c.F,[l.TemplateRef],null,null)],function(t,n){var e=n.component;t(n,1,0,!0,e.dataRegisters.length,10,e.currentPageRegisters,e.recordsByPageRegisters)},null)}function J(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,L)),l["\u0275did"](3,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,3,0,n.component.config.paging)},null)}function G(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,3,"div",[["class","row mt-2"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,2,"h4",[["class","col-12"]],null,null,null,null,null)),(t()(),l["\u0275eld"](2,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["\xa0Estados"]))],null,null)}function $(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"span",[["class","badge badge-success"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["ESTADO ACTUAL"]))],null,null)}function q(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,7,"tr",[],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l["\u0275ted"](2,null,["",""])),(t()(),l["\u0275eld"](3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),l["\u0275ted"](4,null,["",""])),(t()(),l["\u0275eld"](5,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,$)),l["\u0275did"](7,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,7,0,n.context.$implicit.last)},function(t,n){t(n,2,0,n.context.$implicit.state.created_at),t(n,4,0,n.context.$implicit.state_name)})}function U(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,12,"div",[["class","row mt-2"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,11,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),l["\u0275eld"](2,0,null,null,10,"table",[["class","table table-hover mt-2"]],null,null,null,null,null)),(t()(),l["\u0275eld"](3,0,null,null,6,"thead",[],null,null,null,null,null)),(t()(),l["\u0275eld"](4,0,null,null,5,"tr",[],null,null,null,null,null)),(t()(),l["\u0275eld"](5,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Fecha y Hora"])),(t()(),l["\u0275eld"](7,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["Bandeja"])),(t()(),l["\u0275eld"](9,0,null,null,0,"th",[],null,null,null,null,null)),(t()(),l["\u0275eld"](10,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,q)),l["\u0275did"](12,278528,null,0,h.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,n){t(n,12,0,n.component.states_to_show)},null)}function M(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),l["\u0275eld"](1,0,null,null,1,"h1",[["class","col-12 text-right"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,[" BIT\xc1CORA "])),(t()(),l["\u0275eld"](3,0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(t()(),l["\u0275eld"](4,0,null,null,17,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),l["\u0275eld"](5,0,null,null,16,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),l["\u0275eld"](6,0,null,null,1,"label",[["for","ruc"]],null,null,null,null,null)),(t()(),l["\u0275ted"](-1,null,["N\xfamero de RUC"])),(t()(),l["\u0275and"](16777216,null,null,1,null,E)),l["\u0275did"](9,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275eld"](10,0,null,null,11,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),l["\u0275eld"](11,0,null,null,2,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(t()(),l["\u0275eld"](12,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.checkRuc()&&l),l},null,null)),(t()(),l["\u0275eld"](13,0,null,null,0,"span",[["class","fas fa-sync"]],null,null,null,null,null)),(t()(),l["\u0275eld"](14,0,null,null,7,"input",[["class","form-control"],["id","ruc"],["maxlength","13"],["placeholder","N\xfamero de RUC"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var i=!0,r=t.component;return"input"===n&&(i=!1!==l["\u0275nov"](t,15)._handleInput(e.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](t,15).onTouched()&&i),"compositionstart"===n&&(i=!1!==l["\u0275nov"](t,15)._compositionStart()&&i),"compositionend"===n&&(i=!1!==l["\u0275nov"](t,15)._compositionEnd(e.target.value)&&i),"ngModelChange"===n&&(i=!1!==(r.ruc.number=e)&&i),"keyup"===n&&(i=!1!==r.checkRuc()&&i),i},null,null)),l["\u0275did"](15,16384,null,0,d.d,[l.Renderer2,l.ElementRef,[2,d.a]],null,null),l["\u0275did"](16,540672,null,0,d.f,[],{maxlength:[0,"maxlength"]},null),l["\u0275prd"](1024,null,d.g,function(t){return[t]},[d.f]),l["\u0275prd"](1024,null,d.h,function(t){return[t]},[d.d]),l["\u0275did"](19,671744,null,0,d.m,[[8,null],[6,d.g],[8,null],[6,d.h]],{model:[0,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,d.i,null,[d.m]),l["\u0275did"](21,16384,null,0,d.j,[[4,d.i]],null,null),(t()(),l["\u0275and"](16777216,null,null,1,null,j)),l["\u0275did"](23,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275eld"](24,0,null,null,3,"div",[["class","row mb-2"]],null,null,null,null,null)),(t()(),l["\u0275eld"](25,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,S)),l["\u0275did"](27,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,I)),l["\u0275did"](29,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,w)),l["\u0275did"](31,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,F)),l["\u0275did"](33,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,O)),l["\u0275did"](35,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,A)),l["\u0275did"](37,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,J)),l["\u0275did"](39,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,G)),l["\u0275did"](41,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,U)),l["\u0275did"](43,16384,null,0,h.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,9,0,!e.rucValidated),t(n,16,0,"13"),t(n,19,0,e.ruc.number),t(n,23,0,e.rucValidated),t(n,27,0,e.rucValidated&&e.SRIOK),t(n,29,0,e.mostrarEstablecimientos),t(n,31,0,e.mostrarEstablecimientos),t(n,33,0,e.mostrarEstablecimientos),t(n,35,0,e.mostrarRegistros),t(n,37,0,e.mostrarRegistros),t(n,39,0,e.mostrarRegistros),t(n,41,0,e.mostrarStates),t(n,43,0,e.mostrarStates)},function(t,n){t(n,14,0,l["\u0275nov"](n,16).maxlength?l["\u0275nov"](n,16).maxlength:null,l["\u0275nov"](n,21).ngClassUntouched,l["\u0275nov"](n,21).ngClassTouched,l["\u0275nov"](n,21).ngClassPristine,l["\u0275nov"](n,21).ngClassDirty,l["\u0275nov"](n,21).ngClassValid,l["\u0275nov"](n,21).ngClassInvalid,l["\u0275nov"](n,21).ngClassPending)})}function Y(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"app-bitacora",[],null,null,null,M,R)),l["\u0275did"](1,114688,null,0,C,[f.a,g.a,v.a,y.a,m.a,_.a],null,null)],function(t,n){t(n,1,0)},null)}var Z=l["\u0275ccf"]("app-bitacora",C,Y,{},{},[]),H=e("sE5F"),K=e("ZYCi"),Q=e("teKj"),W=function(){return function(){}}(),X=e("kY/A");e.d(n,"BitacoraModuleNgFactory",function(){return tt});var tt=l["\u0275cmf"](i,[],function(t){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[r.a,Z,a.a,a.b,a.l,a.m,a.i,a.j,a.k]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,h.NgLocalization,h.NgLocaleLocalization,[l.LOCALE_ID,[2,h["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,d.s,d.s,[]),l["\u0275mpd"](4608,c.y,c.y,[l.ComponentFactoryResolver,l.Injector,c.tb,c.z]),l["\u0275mpd"](4608,H.c,H.c,[]),l["\u0275mpd"](4608,H.h,H.b,[]),l["\u0275mpd"](5120,H.j,H.k,[]),l["\u0275mpd"](4608,H.i,H.i,[H.c,H.h,H.j]),l["\u0275mpd"](4608,H.g,H.a,[]),l["\u0275mpd"](5120,H.e,H.l,[H.i,H.g]),l["\u0275mpd"](4608,v.a,v.a,[H.e,K.l]),l["\u0275mpd"](4608,y.a,y.a,[H.e,K.l]),l["\u0275mpd"](4608,_.a,_.a,[H.e,K.l]),l["\u0275mpd"](4608,g.a,g.a,[H.e,K.l]),l["\u0275mpd"](4608,Q.a,Q.a,[H.e]),l["\u0275mpd"](4608,m.a,m.a,[H.e,K.l]),l["\u0275mpd"](4608,f.a,f.a,[H.e,K.l]),l["\u0275mpd"](1073742336,h.CommonModule,h.CommonModule,[]),l["\u0275mpd"](1073742336,K.o,K.o,[[2,K.u],[2,K.l]]),l["\u0275mpd"](1073742336,W,W,[]),l["\u0275mpd"](1073742336,d.p,d.p,[]),l["\u0275mpd"](1073742336,d.e,d.e,[]),l["\u0275mpd"](1073742336,c.c,c.c,[]),l["\u0275mpd"](1073742336,c.f,c.f,[]),l["\u0275mpd"](1073742336,c.g,c.g,[]),l["\u0275mpd"](1073742336,c.k,c.k,[]),l["\u0275mpd"](1073742336,c.l,c.l,[]),l["\u0275mpd"](1073742336,c.q,c.q,[]),l["\u0275mpd"](1073742336,c.v,c.v,[]),l["\u0275mpd"](1073742336,c.A,c.A,[]),l["\u0275mpd"](1073742336,c.G,c.G,[]),l["\u0275mpd"](1073742336,c.Q,c.Q,[]),l["\u0275mpd"](1073742336,c.T,c.T,[]),l["\u0275mpd"](1073742336,c.W,c.W,[]),l["\u0275mpd"](1073742336,c.bb,c.bb,[]),l["\u0275mpd"](1073742336,c.fb,c.fb,[]),l["\u0275mpd"](1073742336,c.gb,c.gb,[]),l["\u0275mpd"](1073742336,c.hb,c.hb,[]),l["\u0275mpd"](1073742336,c.B,c.B,[]),l["\u0275mpd"](1073742336,X.Ng2TableModule,X.Ng2TableModule,[]),l["\u0275mpd"](1073742336,H.f,H.f,[]),l["\u0275mpd"](1073742336,i,i,[]),l["\u0275mpd"](1024,K.j,function(){return[[{path:"",component:C}]]},[])])})},ODfl:function(t,n,e){"use strict";var l=e("CcnG");n.NgTablePagingDirective=function(){function t(){this.ngTablePaging=!0,this.tableChanged=new l.EventEmitter}return Object.defineProperty(t.prototype,"config",{get:function(){return this.ngTablePaging},set:function(t){this.ngTablePaging=t},enumerable:!0,configurable:!0}),t.prototype.onChangePage=function(t){this.ngTablePaging&&this.tableChanged.emit({paging:t})},t.decorators=[{type:l.Directive,args:[{selector:"[ngTablePaging]"}]}],t.ctorParameters=[],t.propDecorators={ngTablePaging:[{type:l.Input}],tableChanged:[{type:l.Output}],config:[{type:l.Input}],onChangePage:[{type:l.HostListener,args:["pagechanged",["$event"]]}]},t}()},SwDF:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var l=e("sE5F"),i=e("AytR"),r=e("CcnG"),o=e("ZYCi"),s=function(){function t(t,n){this.http=t,this.router=n,this.url=i.a.api_alojamiento+"state/",this.options=new l.g,this.options.headers=new l.d,this.options.headers.append("api_token",sessionStorage.getItem("api_token"))}return t.prototype.get=function(t){var n=this;return void 0===t?this.http.get(this.url,this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())}):this.http.get(this.url+"?id="+t.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.get_paginate=function(t,n){var e=this;return this.http.get(this.url+"paginate?size="+t.toString()+"&page="+n.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){e.handledError(t.json())})},t.prototype.delete=function(t){var n=this;return this.http.delete(this.url+"?id="+t.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.getBackUp=function(){var t=this;return this.http.get(this.url+"backup",this.options).toPromise().then(function(t){return t.json()}).catch(function(n){t.handledError(n.json())})},t.prototype.post=function(t){var n=this;return this.http.post(this.url,JSON.stringify(t),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.put=function(t){var n=this;return this.http.put(this.url,JSON.stringify(t),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.masiveLoad=function(t){var n=this;return this.http.post(this.url+"masive_load",JSON.stringify({data:t}),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.handledError=function(t){console.log(t),sessionStorage.clear(),this.router.navigate(["/login"])},t.ngInjectableDef=r.defineInjectable({factory:function(){return new t(r.inject(l.e),r.inject(o.l))},token:t,providedIn:"root"}),t}()},Vnl2:function(t,n,e){"use strict";var l=e("CcnG");n.NgTableFilteringDirective=function(){function t(t,n){this.ngTableFiltering={filterString:"",columnName:"name"},this.tableChanged=new l.EventEmitter,this.element=t,this.renderer=n,function(t,n,e,l){t.setElementProperty(n,"value",l)}(this.renderer,this.element,0,this.ngTableFiltering.filterString)}return Object.defineProperty(t.prototype,"config",{get:function(){return this.ngTableFiltering},set:function(t){this.ngTableFiltering=t},enumerable:!0,configurable:!0}),t.prototype.onChangeFilter=function(t){this.ngTableFiltering.filterString=t,this.tableChanged.emit({filtering:this.ngTableFiltering})},t.decorators=[{type:l.Directive,args:[{selector:"[ngTableFiltering]"}]}],t.ctorParameters=[{type:l.ElementRef},{type:l.Renderer}],t.propDecorators={ngTableFiltering:[{type:l.Input}],tableChanged:[{type:l.Output}],config:[{type:l.Input}],onChangeFilter:[{type:l.HostListener,args:["input",["$event.target.value"]]}]},t}()},c4FF:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=function(){return function(){this.id=0,this.id_ubication=0,this.email="",this.name="",this.ruc="",this.province="",this.identification="",this.main_phone_number="",this.secondary_phone_number="0000000000",this.address="",this.address_map_latitude=-.2153676,this.address_map_longitude=-78.5036064}}()},cfkQ:function(t,n,e){"use strict";e.d(n,"a",function(){return s}),e.d(n,"b",function(){return p});var l=e("CcnG"),i=e("Ip0R"),r=e("2ugA"),o=e("Vnl2"),s=(e("z8lh"),e("ZYjt"),l["\u0275crt"]({encapsulation:2,styles:[],data:{}}));function u(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,2,"i",[["class","pull-right fa"]],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),l["\u0275pod"](2,{"fa-chevron-down":0,"fa-chevron-up":1})],function(t,n){var e=t(n,2,0,"desc"===n.parent.context.$implicit.sort,"asc"===n.parent.context.$implicit.sort);t(n,1,0,"pull-right fa",e)},null)}function a(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,5,"th",[],null,[[null,"sortChanged"],[null,"click"]],function(t,n,e){var i=!0,r=t.component;return"click"===n&&(i=!1!==l["\u0275nov"](t,2).onToggleSort(e)&&i),"sortChanged"===n&&(i=!1!==r.onChangeTable(e)&&i),i},null,null)),l["\u0275did"](1,278528,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{ngClass:[0,"ngClass"]},null),l["\u0275did"](2,16384,null,0,r.NgTableSortingDirective,[],{ngTableSorting:[0,"ngTableSorting"],column:[1,"column"]},{sortChanged:"sortChanged"}),(t()(),l["\u0275ted"](3,null,[" "," "])),(t()(),l["\u0275and"](16777216,null,null,1,null,u)),l["\u0275did"](5,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,n){var e=n.component;t(n,1,0,l["\u0275inlineInterpolate"](1,"",n.context.$implicit.className||"","")),t(n,2,0,e.config,n.context.$implicit),t(n,5,0,e.config&&n.context.$implicit.sort)},function(t,n){t(n,3,0,n.context.$implicit.title)})}function c(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,1,"input",[["class","form-control"],["style","width: auto;"]],[[8,"placeholder",0]],[[null,"tableChanged"],[null,"input"]],function(t,n,e){var i=!0,r=t.component;return"input"===n&&(i=!1!==l["\u0275nov"](t,1).onChangeFilter(e.target.value)&&i),"tableChanged"===n&&(i=!1!==r.onChangeTable(r.config)&&i),i},null,null)),l["\u0275did"](1,16384,null,0,o.NgTableFilteringDirective,[l.ElementRef,l.Renderer],{ngTableFiltering:[0,"ngTableFiltering"]},{tableChanged:"tableChanged"})],function(t,n){t(n,1,0,n.parent.context.$implicit.filtering)},function(t,n){t(n,0,0,l["\u0275inlineInterpolate"](1,"",n.parent.context.$implicit.filtering.placeholder,""))})}function h(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,c)),l["\u0275did"](2,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,2,0,n.context.$implicit.filtering)},null)}function d(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,h)),l["\u0275did"](2,278528,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,n){t(n,2,0,n.component.columns)},null)}function g(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,0,"td",[],[[8,"innerHTML",1]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.cellClick(t.parent.context.$implicit,t.context.$implicit.name)&&l),l},null,null))],null,function(t,n){var e=n.component;t(n,0,0,e.sanitize(e.getData(n.parent.context.$implicit,n.context.$implicit.name)))})}function f(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,g)),l["\u0275did"](2,278528,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,n){t(n,2,0,n.component.columns)},null)}function p(t){return l["\u0275vid"](0,[(t()(),l["\u0275eld"](0,0,null,null,10,"table",[["class","table dataTable"],["role","grid"],["style","width: 100%;"]],null,null,null,null,null)),l["\u0275did"](1,278528,null,0,i.NgClass,[l.IterableDiffers,l.KeyValueDiffers,l.ElementRef,l.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),l["\u0275eld"](2,0,null,null,3,"thead",[],null,null,null,null,null)),(t()(),l["\u0275eld"](3,0,null,null,2,"tr",[["role","row"]],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,a)),l["\u0275did"](5,278528,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),l["\u0275eld"](6,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),l["\u0275and"](16777216,null,null,1,null,d)),l["\u0275did"](8,16384,null,0,i.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),l["\u0275and"](16777216,null,null,1,null,f)),l["\u0275did"](10,278528,null,0,i.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,n){var e=n.component;t(n,1,0,"table dataTable",l["\u0275inlineInterpolate"](1,"",e.config.className||"","")),t(n,5,0,e.columns),t(n,8,0,e.showFilterRow),t(n,10,0,e.rows)},null)}},iNZF:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var l=e("sE5F"),i=e("AytR"),r=e("CcnG"),o=e("ZYCi"),s=function(){function t(t,n){this.http=t,this.router=n,this.url=i.a.api_consultor,this.url_base=i.a.api_base,this.options=new l.g,this.options.headers=new l.d,this.options.headers.append("api_token",sessionStorage.getItem("api_token"))}return t.prototype.post_new_state=function(t){var n=this;return this.http.post(this.url+"post_new_state",JSON.stringify(t),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.get_registers_by_ruc=function(t){var n=this;return this.http.get(this.url+"get_registers_by_ruc?ruc="+t,this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.get_all_register_types=function(){var t=this;return this.http.get(this.url+"get_all_register_types",this.options).toPromise().then(function(t){return t.json()}).catch(function(n){t.handledError(n.json())})},t.prototype.get_all_last_tramit_states=function(t){var n=this;return this.http.get(this.url+"get_all_last_tramit_states?ruc="+t,this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.get_bitacora=function(t){var n=this;return this.http.get(this.url+"get_bitacora?ruc="+t,this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.get_registers=function(t){var n=this;return this.http.post(this.url+"registers",JSON.stringify({filterIdLocation:t}),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.get_register_by_code=function(t){var n=this;return this.http.get(this.url+"register_by_code?code="+t,this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.get_zonales=function(t){var n=this;return void 0===t?this.http.get(this.url_base+"zonal/",this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())}):this.http.get(this.url_base+"zonal/?id="+t.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.get_registers_assigned_inspector_id=function(t){var n=this;return this.http.get(this.url+"get_registers_assigned_inspector_id?id="+t.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.get_registers_assigned_financial_id=function(t){var n=this;return this.http.get(this.url+"get_registers_assigned_financial_id?id="+t.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.handledError=function(t){console.log(t)},t.ngInjectableDef=r.defineInjectable({factory:function(){return new t(r.inject(l.e),r.inject(o.l))},token:t,providedIn:"root"}),t}()},jXnw:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=function(){return function(){this.group_type_id=0,this.register_code=""}}()},"kY/A":function(t,n,e){"use strict";var l=e("CcnG"),i=e("Ip0R"),r=e("z8lh"),o=e("Vnl2"),s=e("ODfl"),u=e("2ugA");n.Ng2TableModule=function(){function t(){}return t.decorators=[{type:l.NgModule,args:[{imports:[i.CommonModule],declarations:[r.NgTableComponent,o.NgTableFilteringDirective,s.NgTablePagingDirective,u.NgTableSortingDirective],exports:[r.NgTableComponent,o.NgTableFilteringDirective,s.NgTablePagingDirective,u.NgTableSortingDirective]}]}],t.ctorParameters=[],t}()},m3oD:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var l=e("sE5F"),i=e("AytR"),r=e("CcnG"),o=e("ZYCi"),s=function(){function t(t,n){this.http=t,this.router=n,this.url=i.a.api_base+"ubication/",this.options=new l.g,this.options.headers=new l.d,this.options.headers.append("api_token",sessionStorage.getItem("api_token"))}return t.prototype.get=function(t){var n=this;return void 0===t?this.http.get(this.url,this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())}):this.http.get(this.url+"?id="+t.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.getByIdLower=function(t){var n=this;return this.http.get(this.url+"get_by_id_lower?id="+t.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.get_paginate=function(t,n){var e=this;return this.http.get(this.url+"paginate?size="+t.toString()+"&page="+n.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){e.handledError(t.json())})},t.prototype.get_filtered_paginate=function(t,n,e){var l=this;return this.http.get(this.url+"filtered-paginate?size="+t.toString()+"&page="+n.toString()+"&filter="+e,this.options).toPromise().then(function(t){return t.json()}).catch(function(t){l.handledError(t.json())})},t.prototype.get_filtered=function(t){var n=this;return this.http.get(this.url+"filtered?filter="+t,this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.delete=function(t){var n=this;return this.http.delete(this.url+"?id="+t.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.getBackUp=function(){var t=this;return this.http.get(this.url+"backup",this.options).toPromise().then(function(t){return t.json()}).catch(function(n){t.handledError(n.json())})},t.prototype.post=function(t){var n=this;return this.http.post(this.url,JSON.stringify(t),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.put=function(t){var n=this;return this.http.put(this.url,JSON.stringify(t),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.masiveLoad=function(t){var n=this;return this.http.post(this.url+"masive_load",JSON.stringify({data:t}),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.handledError=function(t){console.log(t),sessionStorage.clear(),this.router.navigate(["/login"])},t.ngInjectableDef=r.defineInjectable({factory:function(){return new t(r.inject(l.e),r.inject(o.l))},token:t,providedIn:"root"}),t}()},mhEj:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=function(){return function(){this.person_representative_attachment_file_type="",this.person_representative_attachment_file_name="",this.person_representative_attachment_file="",this.assignment_date=new Date,this.ruc="",this.person_representative_id=0}}()},pQVB:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var l=e("sE5F"),i=e("AytR"),r=e("CcnG"),o=e("ZYCi"),s=function(){function t(t,n){this.http=t,this.router=n,this.url=i.a.api_alojamiento+"registertype/",this.options=new l.g,this.options.headers=new l.d,this.options.headers.append("api_token",sessionStorage.getItem("api_token"))}return t.prototype.get=function(t){var n=this;return void 0===t?this.http.get(this.url,this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())}):this.http.get(this.url+"?id="+t.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.get_paginate=function(t,n){var e=this;return this.http.get(this.url+"paginate?size="+t.toString()+"&page="+n.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){e.handledError(t.json())})},t.prototype.get_filtered_paginate=function(t,n,e){var l=this;return this.http.get(this.url+"filtered-paginate?size="+t.toString()+"&page="+n.toString()+"&filter="+e,this.options).toPromise().then(function(t){return t.json()}).catch(function(t){l.handledError(t.json())})},t.prototype.get_filtered=function(t){var n=this;return this.http.get(this.url+"filtered?filter="+t,this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.delete=function(t){var n=this;return this.http.delete(this.url+"?id="+t.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.getBackUp=function(){var t=this;return this.http.get(this.url+"backup",this.options).toPromise().then(function(t){return t.json()}).catch(function(n){t.handledError(n.json())})},t.prototype.post=function(t){var n=this;return this.http.post(this.url,JSON.stringify(t),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.put=function(t){var n=this;return this.http.put(this.url,JSON.stringify(t),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.masiveLoad=function(t){var n=this;return this.http.post(this.url+"masive_load",JSON.stringify({data:t}),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.handledError=function(t){console.log(t),sessionStorage.clear(),this.router.navigate(["/login"])},t.ngInjectableDef=r.defineInjectable({factory:function(){return new t(r.inject(l.e),r.inject(o.l))},token:t,providedIn:"root"}),t}()},qYr5:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var l=e("jXnw"),i=e("4NRs"),r=e("c4FF"),o=e("mhEj"),s=function(){return function(){this.establishmentsSRI=[],this.establishments=[],this.group_given=new l.a,this.person_representative=new i.a,this.person_representative_attachment=new o.a,this.tax_payer_type_id=0,this.contact_user_id=0,this.contact_user=new r.a,this.number="",this.owner_name="",this.razon_social="",this.baised_accounting=!1}}()},teKj:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var l=e("sE5F"),i=e("AytR"),r=e("CcnG"),o=function(){function t(t){this.http=t,this.url=i.a.api_auth+"user/",this.options=new l.g,this.options.headers=new l.d,this.options.headers.append("api_token",sessionStorage.getItem("api_token"))}return t.prototype.get=function(t){var n=this;return void 0===t?this.http.get(this.url,this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())}):this.http.get(this.url+"?id="+t.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.get_paginate=function(t,n){var e=this;return this.http.get(this.url+"paginate?size="+t.toString()+"&page="+n.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){e.handledError(t.json())})},t.prototype.delete=function(t){var n=this;return this.http.delete(this.url+"?id="+t.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.post=function(t){var n=this;return this.http.post(this.url,JSON.stringify(t),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.register_user_by_inactivation=function(t){var n=this;return this.http.post(this.url+"register_user_by_inactivation",JSON.stringify(t),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.put=function(t){var n=this;return this.http.put(this.url,JSON.stringify(t),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.get_filtered_by_rol=function(t,n,e,l){var i=this;return this.http.get(this.url+"filtered_by_rol?size="+t.toString()+"&page="+n.toString()+"&filter="+e+"&ruc="+l,this.options).toPromise().then(function(t){return t.json()}).catch(function(t){i.handledError(t.json())})},t.prototype.get_by_rol=function(t){var n=this;return this.http.get(this.url+"get_by_rol?filter="+t,this.options).toPromise().then(function(t){return t.json()}).catch(function(t){n.handledError(t.json())})},t.prototype.create_account_by_rol=function(t,n){var e=this;return this.http.post(this.url+"create_account_by_rol",JSON.stringify({user:t,account_rol_id:n}),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){e.handledError(t.json())})},t.prototype.update_account_by_rol=function(t,n){var e=this;return this.http.put(this.url+"update_account_by_rol",JSON.stringify({user:t,account_rol_id:n}),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){e.handledError(t.json())})},t.prototype.delete_account_by_rol=function(t,n){var e=this;return this.http.delete(this.url+"delete_account_by_rol?user_id="+t.toString()+"&account_rol_id="+n.toString(),this.options).toPromise().then(function(t){return t.json()}).catch(function(t){e.handledError(t.json())})},t.prototype.handledError=function(t){console.log(t)},t.ngInjectableDef=r.defineInjectable({factory:function(){return new t(r.inject(l.e))},token:t,providedIn:"root"}),t}()},z8lh:function(t,n,e){"use strict";var l=e("CcnG"),i=e("ZYjt");n.NgTableComponent=function(){function t(t){this.sanitizer=t,this.rows=[],this.tableChanged=new l.EventEmitter,this.cellClicked=new l.EventEmitter,this.showFilterRow=!1,this._columns=[],this._config={}}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config},set:function(t){t.className||(t.className="table-striped table-bordered"),t.className instanceof Array&&(t.className=t.className.join(" ")),this._config=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns},set:function(t){var n=this;t.forEach(function(t){t.filtering&&(n.showFilterRow=!0),t.className&&t.className instanceof Array&&(t.className=t.className.join(" "));var e=n._columns.find(function(n){return n.name===t.name});e&&Object.assign(e,t),e||n._columns.push(t)})},enumerable:!0,configurable:!0}),t.prototype.sanitize=function(t){return this.sanitizer.bypassSecurityTrustHtml(t)},Object.defineProperty(t.prototype,"configColumns",{get:function(){var t=[];return this.columns.forEach(function(n){n.sort&&t.push(n)}),{columns:t}},enumerable:!0,configurable:!0}),t.prototype.onChangeTable=function(t){this._columns.forEach(function(n){n.name!==t.name&&!1!==n.sort&&(n.sort="")}),this.tableChanged.emit({sorting:this.configColumns})},t.prototype.getData=function(t,n){return n.split(".").reduce(function(t,n){return t[n]},t)},t.prototype.cellClick=function(t,n){this.cellClicked.emit({row:t,column:n})},t.decorators=[{type:l.Component,args:[{selector:"ng-table",template:'\n    <table class="table dataTable" ngClass="{{config.className || \'\'}}"\n           role="grid" style="width: 100%;">\n      <thead>\n        <tr role="row">\n          <th *ngFor="let column of columns" [ngTableSorting]="config" [column]="column" \n              (sortChanged)="onChangeTable($event)" ngClass="{{column.className || \'\'}}">\n            {{column.title}}\n            <i *ngIf="config && column.sort" class="pull-right fa"\n              [ngClass]="{\'fa-chevron-down\': column.sort === \'desc\', \'fa-chevron-up\': column.sort === \'asc\'}"></i>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n      <tr *ngIf="showFilterRow">\n        <td *ngFor="let column of columns">\n          <input *ngIf="column.filtering" placeholder="{{column.filtering.placeholder}}"\n                 [ngTableFiltering]="column.filtering"\n                 class="form-control"\n                 style="width: auto;"\n                 (tableChanged)="onChangeTable(config)"/>\n        </td>\n      </tr>\n        <tr *ngFor="let row of rows">\n          <td (click)="cellClick(row, column.name)" *ngFor="let column of columns" [innerHtml]="sanitize(getData(row, column.name))"></td>\n        </tr>\n      </tbody>\n    </table>\n  '}]}],t.ctorParameters=[{type:i.DomSanitizer}],t.propDecorators={rows:[{type:l.Input}],config:[{type:l.Input}],tableChanged:[{type:l.Output}],cellClicked:[{type:l.Output}],columns:[{type:l.Input}]},t}()}}]);