(window.webpackJsonp=window.webpackJsonp||[]).push([[154],{QW8g:function(e,n,t){"use strict";t.r(n);var l=t("CcnG"),i=function(){return function(){}}(),a=t("9AJC"),o=t("pMnS"),r=t("Vnl2"),s=t("gIcY"),u=t("4GxJ"),c=t("Ip0R"),d=t("cfkQ"),g=t("z8lh"),p=t("ZYjt"),m=t("qYr5"),f=t("XqKP"),h=t("7AaY"),_=t("iNZF"),v=t("m3oD"),b=t("teKj"),y=t("7QCc"),E=t("c4FF"),R=t("JEAp"),C=function(){function e(e,n,t,i){this.consultorDataService=e,this.ubicationDataService=n,this.authLocationDataService=t,this.userDataService=i,this.change=new l.EventEmitter,this.inspectores_change=new l.EventEmitter,this.financieros_change=new l.EventEmitter,this.user=new E.a,this.estados_tramites=[],this.states={alojamiento:[],alimentos_bebidas:[],operacion_intermediacion:[]},this.register_types_block={register_types_alojamiento:[],register_types_alimentos_bebidas:[],register_types_operacion_intermediacion:[]},this.config={paging:!0,filtering:{filterString:""},className:["table-striped","table-hover","table-bordered"]},this.rows=[],this.columns=[],this.data=[],this.currentPageMinturRegisters=1,this.lastPageMinturRegisters=1,this.recordsByPageRegisterMintur=5,this.register_can_show=[],this.registers_mintur=[],this.ubications=[],this.financieros=[],this.inspectores=[],this.myAbleUbications=[],this.idTramiteEstadoFilter=0}return e.prototype.ngOnInit=function(){this.loadCatalogos(),this.refresh()},e.prototype.ngOnChanges=function(){this.refresh()},e.prototype.loadCatalogos=function(){this.getUbications()},e.prototype.refresh=function(){var e={row:null,register:{register:null,activity_id:0,activity:"",establishment:new f.a,ruc:new m.a,states:null,register_data_on_catastro:null}};this.inspectores=[],this.financieros=[],this.inspectores_change.emit(this.inspectores),this.financieros_change.emit(this.financieros),this.change.emit(e),this.getRegistersMintur()},e.prototype.getUbications=function(){var e=this;this.ubications=[],this.ubicationDataService.get().then(function(n){e.ubications=n,e.getMyTeam()}).catch(function(e){console.log(e)})},e.prototype.getRegisterCategory=function(e,n){var t="",l="";return 1==n&&(this.register_types_block.register_types_alojamiento.forEach(function(n){n.id==e&&(t=n.name,l=n.father_code)}),this.register_types_block.register_types_alojamiento.forEach(function(e){e.code==l&&(t=e.name+" - "+t)})),2==n&&(this.register_types_block.register_types_alimentos_bebidas.forEach(function(n){n.id==e&&(t=n.name,"Pendiente"==n.name&&(t="No Cumple Inspecci\xf3n (No Tur\xedstico)"),l=n.father_code)}),this.register_types_block.register_types_alimentos_bebidas.forEach(function(e){e.code==l&&(t=e.name+" - "+t)})),3==n&&(this.register_types_block.register_types_operacion_intermediacion.forEach(function(n){n.id==e&&(t=n.name,l=n.father_code)}),this.register_types_block.register_types_operacion_intermediacion.forEach(function(e){e.code==l&&(t=e.name+" - "+t)})),t},e.prototype.getMyTeam=function(){var e=this;this.authLocationDataService.get_by_user_id(this.user.id).then(function(n){var t=n;e.myAbleUbications=[];var l=[],i=[];t.forEach(function(n){e.ubications.forEach(function(e){e.id==n.id_ubication&&l.push(e)})}),l.forEach(function(n){e.ubications.forEach(function(e){n.code==e.father_code&&i.push(e)})});var a=[];i.forEach(function(n){e.ubications.forEach(function(e){n.code==e.father_code&&a.push(e)})});var o=[];a.forEach(function(n){e.ubications.forEach(function(e){n.code==e.father_code&&o.push(e)})}),l.forEach(function(n){e.myAbleUbications.push(n)}),i.forEach(function(n){e.myAbleUbications.push(n)}),a.forEach(function(n){e.myAbleUbications.push(n)}),o.forEach(function(n){e.myAbleUbications.push(n)}),e.getInspectores(),e.getFinancieros()}).catch(function(e){console.log(e)})},e.prototype.getInspectores=function(){var e=this;this.inspectores=[],this.userDataService.get_by_rol("5").then(function(n){var t=[];n.forEach(function(n){e.myAbleUbications.forEach(function(e){if(n.id_ubication==e.id){var l=new E.a;l.id=n.id,l.name=n.name,l.email=n.email,l.id_ubication=n.id_ubication,l.address=n.address,l.address_map_latitude=n.address_map_latitude,l.address_map_longitude=n.address_map_longitude,l.main_phone_number=n.main_phone_number,l.secondary_phone_number=n.secondary_phone_number,l.identification=n.identification,l.ruc=n.ruc,l.province=e.name,t.push(l)}})});var l=[];t.forEach(function(n){var t=!1;e.inspectores.forEach(function(e){e.id==n.id&&(t=!0)}),t?l.push(n):e.inspectores.push(n)}),l.forEach(function(n){e.inspectores.forEach(function(e){e.id==n.id&&(e.province=e.province+"/"+n.province)})}),e.inspectores_change.emit(e.inspectores)}).catch(function(e){console.log(e)})},e.prototype.getFinancieros=function(){var e=this;this.financieros=[],this.userDataService.get_by_rol("6").then(function(n){var t=[];n.forEach(function(n){e.myAbleUbications.forEach(function(e){if(n.id_ubication==e.id){var l=new E.a;l.id=n.id,l.name=n.name,l.email=n.email,l.id_ubication=n.id_ubication,l.address=n.address,l.address_map_latitude=n.address_map_latitude,l.address_map_longitude=n.address_map_longitude,l.main_phone_number=n.main_phone_number,l.secondary_phone_number=n.secondary_phone_number,l.identification=n.identification,l.ruc=n.ruc,l.province=e.name,t.push(l)}})});var l=[];t.forEach(function(n){var t=!1;e.financieros.forEach(function(e){e.id==n.id&&(t=!0)}),t?l.push(n):e.financieros.push(n)}),l.forEach(function(n){e.financieros.forEach(function(e){e.id==n.id&&(e.province=e.province+"/"+n.province)})}),e.financieros_change.emit(e.financieros)}).catch(function(e){console.log(e)})},e.prototype.BandejaToCSV=function(){var e="";this.columns.forEach(function(n){e+=n.title+";"}),e+="\n",this.data.forEach(function(n){e+=n.selected+";"+n.number+";"+n.ruc_code_id+";"+n.establishment+";"+n.status+";"+n.actividad+";"+n.provincia+";"+n.canton+";"+n.parroquia+";"+n.address+";"+n.category+";"+n.created_at+";"+n.code+"\n"});var n=new Blob(["\ufeff",e],{type:"text/plain"}),t=new Date;Object(R.saveAs)(n,t.toLocaleDateString()+"_Bandejas.csv")},e.prototype.filterByTramiteState=function(e){var n=this,t="";this.estados_tramites.forEach(function(e){e.id==n.idTramiteEstadoFilter&&(t=e.name)}),this.config.filtering=void 0!==e?"-"==e?{filterString:t}:{filterString:t+" - "+e}:{filterString:t},this.onChangeTable(this.config)},e.prototype.getRegistersMintur=function(){var e=this;this.registers_mintur=[],this.consultorDataService.get_registers(1).then(function(n){e.registers_mintur=n,e.buildDataTable()}).catch(function(e){return console.log(e)})},e.prototype.onChangeTable=function(e,n){var t={page:this.currentPageMinturRegisters,itemsPerPage:this.recordsByPageRegisterMintur};e.filtering&&Object.assign(this.config.filtering,e.filtering),e.sorting&&Object.assign(this.config.sorting,e.sorting);var l=this.changeFilter(this.data,this.config),i=this.changeSort(l,this.config);this.rows=t&&e.paging?this.changePage(t,i):i},e.prototype.changeFilter=function(e,n){var t=this;this.rows.forEach(function(e){e.selected=""});var l=e;if(this.columns.forEach(function(e){e.filtering&&(l=l.filter(function(n){return n[e.name].toUpperCase().match(e.filtering.filterString.toUpperCase())}))}),!n.filtering)return l;if(n.filtering.columnName)return l.filter(function(e){return e[n.filtering.columnName].match(t.config.filtering.filterString)});var i=[];return l.forEach(function(e){var n=!1;t.columns.forEach(function(l){e[l.name].toString().match(t.config.filtering.filterString)&&(n=!0)}),n&&i.push(e)}),l=i},e.prototype.changeSort=function(e,n){if(!n.sorting)return e;for(var t=this.config.sorting.columns||[],l=void 0,i=void 0,a=0;a<t.length;a++)""!==t[a].sort&&!1!==t[a].sort&&(l=t[a].name,i=t[a].sort);return l?e.sort(function(e,n){return e[l]>n[l]?"desc"===i?-1:1:e[l]<n[l]?"asc"===i?-1:1:0}):e},e.prototype.changePage=function(e,n){void 0===n&&(n=this.data);var t=(e.page-1)*e.itemsPerPage;return n.slice(t,e.itemsPerPage>-1?t+e.itemsPerPage:n.length)},e.prototype.buildDataTable=function(){var e=this;this.columns=[{title:"",name:"selected"},{title:"N\xfamero de RUC",name:"number"},{title:"N\xfamero de Establecimiento",name:"ruc_code_id"},{title:"Nombre Comercial",name:"establishment"},{title:"Sistema de Origen",name:"system_source"},{title:"Bandeja",name:"status"},{title:"Actividad",name:"actividad"},{title:"Provincia",name:"provincia"},{title:"Cant\xf3n",name:"canton"},{title:"Parroquia",name:"parroquia"},{title:"Direcci\xf3n",name:"address"},{title:"Clasificaci\xf3n - Categor\xeda",name:"category"},{title:"Fecha de Solicitud",name:"created_at"},{title:"N\xfamero de Registro",name:"code"}];var n=[];this.register_can_show=[],this.registers_mintur.forEach(function(t){var l=!1;if(e.myAbleUbications.forEach(function(e){e.id==t.establishment.ubication_id&&(l=!0)}),l){e.register_can_show.push(t);var i="",a=new Date,o=e.getRegisterState(t.states.state_id,t.activity_id);0==o.search("Aprobado")&&(a=new Date(t.states.updated_at)),0==o.search("Negado")&&(a=new Date(t.states.updated_at));var r=new Date(t.register.created_at),s=Math.abs(r.getTime()-a.getTime()),u=Math.ceil(s/864e5);u<7&&(i='<div class="col-12 text-center"><span class="badge badge-success">&nbsp;'+u.toString()+"&nbsp;</span></div>"),u>=7&&u<=10&&(i='<div class="col-12 text-center"><span class="badge badge-warning">&nbsp;'+u.toString()+"&nbsp;</span></div>"),u>10&&(i='<div class="col-12 text-center"><span class="badge badge-danger">&nbsp;'+u.toString()+"&nbsp;</span></div>");var c=new y.a,d=new y.a,g=new y.a;new y.a,e.ubications.forEach(function(e){e.id==t.establishment.ubication_id&&(g=e)}),e.ubications.forEach(function(e){e.code==g.father_code&&(d=e)}),e.ubications.forEach(function(e){e.code==d.father_code&&(c=e)}),e.ubications.forEach(function(e){});var p=new Date(t.register.created_at.toString()),m="";m="5"==t.states.state_id.toString().substring(0,1)||"60"==t.states.state_id.toString()?""==t.register_data_on_catastro.classification?e.getRegisterCategory(t.register.register_type_id,t.activity_id).toString():t.register_data_on_catastro.classification.toString()+" - "+t.register_data_on_catastro.category.toString():e.getRegisterCategory(t.register.register_type_id,t.activity_id).toString(),n.push({selected:"",date_assigment_alert:i,number:t.ruc.number,registerId:t.register.id,actividad:t.activity,provincia:c.name,canton:d.name,parroquia:g.name,ruc_code_id:t.establishment.ruc_code_id,establishment:t.establishment.commercially_known_name,address:t.establishment.address_main_street+" "+t.establishment.address_number+" "+t.establishment.address_secondary_street,created_at:p.toLocaleDateString(),code:t.register.code,register_type_id:t.register.register_type_id,category:m.toUpperCase(),catastro_category:t.register_data_on_catastro.category.toUpperCase(),catastro_classification:t.register_data_on_catastro.classification.toUpperCase(),system_source:t.register_data_on_catastro.system_source,status:o,status_id:t.states.state_id})}}),this.data=n,this.onChangeTable(this.config)},e.prototype.getRegisterState=function(e,n){var t="",l="";return 1==n&&(this.states.alojamiento.forEach(function(n){n.id==e&&(t=n.name,l=n.father_code)}),this.states.alojamiento.forEach(function(e){e.code==l&&(t=e.name+" - "+t)})),2==n&&(this.states.alimentos_bebidas.forEach(function(n){n.id==e&&(t=n.name,l=n.father_code)}),this.states.alimentos_bebidas.forEach(function(e){e.code==l&&(t=e.name+" - "+t)})),3==n&&(this.states.operacion_intermediacion.forEach(function(n){n.id==e&&(t=n.name,l=n.father_code)}),this.states.operacion_intermediacion.forEach(function(e){e.code==l&&(t=e.name+" - "+t)})),t},e.prototype.onCellClick=function(e){var n=e.row.actividad,t=e.row.registerId,l={row:null,register:{register:null,activity_id:0,activity:"",establishment:new f.a,ruc:new m.a,states:null,register_data_on_catastro:null}};this.rows.forEach(function(n){n.selected=e.row==n?'<div class="col-12 text-right"><span class="far fa-hand-point-right"></span></div>':""}),this.registers_mintur.forEach(function(e){e.register.id==t&&e.activity==n&&(l.register=e)}),this.change.emit(l)},e}(),S=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function w(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"input",[["class","form-control"],["placeholder","Buscar..."]],null,[[null,"input"]],function(e,n,t){var i=!0,a=e.component;return"input"===n&&(i=!1!==l["\u0275nov"](e,1).onChangeFilter(t.target.value)&&i),"input"===n&&(i=!1!==a.onChangeTable(a.config)&&i),i},null,null)),l["\u0275did"](1,16384,null,0,r.NgTableFilteringDirective,[l.ElementRef,l.Renderer],{ngTableFiltering:[0,"ngTableFiltering"]},null)],function(e,n){e(n,1,0,n.component.config.filtering)},null)}function T(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,3,"option",[],null,null,null,null,null)),l["\u0275did"](1,147456,null,0,s.n,[l.ElementRef,l.Renderer2,[2,s.o]],{value:[0,"value"]},null),l["\u0275did"](2,147456,null,0,s.t,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](3,null,["",""]))],function(e,n){e(n,1,0,l["\u0275inlineInterpolate"](1,"",n.context.$implicit.id,"")),e(n,2,0,l["\u0275inlineInterpolate"](1,"",n.context.$implicit.id,""))},function(e,n){e(n,3,0,n.context.$implicit.name)})}function D(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,34,"div",[["class","input-group-append"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,33,"select",[["class","form-control"],["id","filter-tramite-estado"],["name","filter-tramite-estado"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var i=!0,a=e.component;return"change"===n&&(i=!1!==l["\u0275nov"](e,2).onChange(t.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](e,2).onTouched()&&i),"ngModelChange"===n&&(i=!1!==(a.tramite=t)&&i),"change"===n&&(i=!1!==a.filterByTramiteState(a.tramite)&&i),i},null,null)),l["\u0275did"](2,16384,null,0,s.o,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,s.h,function(e){return[e]},[s.o]),l["\u0275did"](4,671744,null,0,s.m,[[8,null],[8,null],[8,null],[6,s.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,s.i,null,[s.m]),l["\u0275did"](6,16384,null,0,s.j,[[4,s.i]],null,null),(e()(),l["\u0275eld"](7,0,null,null,3,"option",[["selected",""],["value","-"]],null,null,null,null,null)),l["\u0275did"](8,147456,null,0,s.n,[l.ElementRef,l.Renderer2,[2,s.o]],{value:[0,"value"]},null),l["\u0275did"](9,147456,null,0,s.t,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](-1,null,["Todas"])),(e()(),l["\u0275eld"](11,0,null,null,3,"option",[["selected",""],["value","Registro"]],null,null,null,null,null)),l["\u0275did"](12,147456,null,0,s.n,[l.ElementRef,l.Renderer2,[2,s.o]],{value:[0,"value"]},null),l["\u0275did"](13,147456,null,0,s.t,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](-1,null,["Registro"])),(e()(),l["\u0275eld"](15,0,null,null,3,"option",[["selected",""],["value","Reclasificaci\xf3n"]],null,null,null,null,null)),l["\u0275did"](16,147456,null,0,s.n,[l.ElementRef,l.Renderer2,[2,s.o]],{value:[0,"value"]},null),l["\u0275did"](17,147456,null,0,s.t,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](-1,null,["Reclasificaci\xf3n"])),(e()(),l["\u0275eld"](19,0,null,null,3,"option",[["selected",""],["value","Recategorizaci\xf3n"]],null,null,null,null,null)),l["\u0275did"](20,147456,null,0,s.n,[l.ElementRef,l.Renderer2,[2,s.o]],{value:[0,"value"]},null),l["\u0275did"](21,147456,null,0,s.t,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](-1,null,["Recategorizaci\xf3n"])),(e()(),l["\u0275eld"](23,0,null,null,3,"option",[["selected",""],["value","Actualizaci\xf3n"]],null,null,null,null,null)),l["\u0275did"](24,147456,null,0,s.n,[l.ElementRef,l.Renderer2,[2,s.o]],{value:[0,"value"]},null),l["\u0275did"](25,147456,null,0,s.t,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](-1,null,["Actualizaci\xf3n"])),(e()(),l["\u0275eld"](27,0,null,null,3,"option",[["selected",""],["value","Inactivaci\xf3n"]],null,null,null,null,null)),l["\u0275did"](28,147456,null,0,s.n,[l.ElementRef,l.Renderer2,[2,s.o]],{value:[0,"value"]},null),l["\u0275did"](29,147456,null,0,s.t,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](-1,null,["Inactivaci\xf3n"])),(e()(),l["\u0275eld"](31,0,null,null,3,"option",[["selected",""],["value","Reingreso"]],null,null,null,null,null)),l["\u0275did"](32,147456,null,0,s.n,[l.ElementRef,l.Renderer2,[2,s.o]],{value:[0,"value"]},null),l["\u0275did"](33,147456,null,0,s.t,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](-1,null,["Reingreso"]))],function(e,n){e(n,4,0,"filter-tramite-estado",n.component.tramite),e(n,8,0,"-"),e(n,9,0,"-"),e(n,12,0,"Registro"),e(n,13,0,"Registro"),e(n,16,0,"Reclasificaci\xf3n"),e(n,17,0,"Reclasificaci\xf3n"),e(n,20,0,"Recategorizaci\xf3n"),e(n,21,0,"Recategorizaci\xf3n"),e(n,24,0,"Actualizaci\xf3n"),e(n,25,0,"Actualizaci\xf3n"),e(n,28,0,"Inactivaci\xf3n"),e(n,29,0,"Inactivaci\xf3n"),e(n,32,0,"Reingreso"),e(n,33,0,"Reingreso")},function(e,n){e(n,1,0,l["\u0275nov"](n,6).ngClassUntouched,l["\u0275nov"](n,6).ngClassTouched,l["\u0275nov"](n,6).ngClassPristine,l["\u0275nov"](n,6).ngClassDirty,l["\u0275nov"](n,6).ngClassValid,l["\u0275nov"](n,6).ngClassInvalid,l["\u0275nov"](n,6).ngClassPending)})}function k(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](-1,null,["Primera"]))],null,null)}function F(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](-1,null,["Anterior"]))],null,null)}function I(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](-1,null,["Siguiente"]))],null,null)}function j(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](-1,null,["\xdaltima"]))],null,null)}function M(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,15,"ngb-pagination",[["role","navigation"]],null,[[null,"pageChange"]],function(e,n,t){var l=!0,i=e.component;return"pageChange"===n&&(l=!1!==(i.currentPageMinturRegisters=t)&&l),"pageChange"===n&&(l=!1!==i.onChangeTable(i.config,t)&&l),l},a.g,a.d)),l["\u0275did"](1,573440,null,6,u.C,[u.D],{boundaryLinks:[0,"boundaryLinks"],collectionSize:[1,"collectionSize"],maxSize:[2,"maxSize"],page:[3,"page"],pageSize:[4,"pageSize"]},{pageChange:"pageChange"}),l["\u0275qud"](335544320,1,{tplEllipsis:0}),l["\u0275qud"](335544320,2,{tplFirst:0}),l["\u0275qud"](335544320,3,{tplLast:0}),l["\u0275qud"](335544320,4,{tplNext:0}),l["\u0275qud"](335544320,5,{tplNumber:0}),l["\u0275qud"](335544320,6,{tplPrevious:0}),(e()(),l["\u0275and"](0,null,null,1,null,k)),l["\u0275did"](9,16384,[[2,4]],0,u.E,[l.TemplateRef],null,null),(e()(),l["\u0275and"](0,null,null,1,null,F)),l["\u0275did"](11,16384,[[6,4]],0,u.I,[l.TemplateRef],null,null),(e()(),l["\u0275and"](0,null,null,1,null,I)),l["\u0275did"](13,16384,[[4,4]],0,u.H,[l.TemplateRef],null,null),(e()(),l["\u0275and"](0,null,null,1,null,j)),l["\u0275did"](15,16384,[[3,4]],0,u.F,[l.TemplateRef],null,null)],function(e,n){var t=n.component;e(n,1,0,!0,t.register_can_show.length,10,t.currentPageMinturRegisters,t.recordsByPageRegisterMintur)},null)}function P(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,38,"div",[["class","row"]],null,null,null,null,null)),(e()(),l["\u0275eld"](1,0,null,null,1,"h1",[["class","col-12 text-right"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,[" Registros - MINTUR "])),(e()(),l["\u0275eld"](3,0,null,null,29,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275eld"](4,0,null,null,28,"div",[["class","btn-toolbar"],["role","toolbar"]],null,null,null,null,null)),(e()(),l["\u0275eld"](5,0,null,null,4,"div",[["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](6,0,null,null,1,"button",[["class","btn btn-primary"],["title","Actualizar"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.refresh()&&l),l},null,null)),(e()(),l["\u0275eld"](7,0,null,null,0,"i",[["class","fas fa-sync"]],null,null,null,null,null)),(e()(),l["\u0275eld"](8,0,null,null,1,"button",[["class","btn btn-success"],["title","Descargar Bandejas"],["type","button"]],null,[[null,"click"]],function(e,n,t){var l=!0;return"click"===n&&(l=!1!==e.component.BandejaToCSV()&&l),l},null,null)),(e()(),l["\u0275eld"](9,0,null,null,0,"i",[["class","fas fa-download"]],null,null,null,null,null)),(e()(),l["\u0275eld"](10,0,null,null,2,"div",[["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,w)),l["\u0275did"](12,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](13,0,null,null,19,"div",[["class","btn-group mr-2"],["role","group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](14,0,null,null,18,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),l["\u0275eld"](15,0,null,null,3,"div",[["class","input-group-prepend"]],null,null,null,null,null)),(e()(),l["\u0275eld"](16,0,null,null,2,"span",[["class","input-group-text"]],null,null,null,null,null)),(e()(),l["\u0275eld"](17,0,null,null,0,"i",[["class","fas fa-search"]],null,null,null,null,null)),(e()(),l["\u0275ted"](-1,null,["\xa0Bandejas"])),(e()(),l["\u0275eld"](19,0,null,null,11,"select",[["class","form-control"],["id","filter-tramite-estado"],["name","filter-tramite-estado"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(e,n,t){var i=!0,a=e.component;return"change"===n&&(i=!1!==l["\u0275nov"](e,20).onChange(t.target.value)&&i),"blur"===n&&(i=!1!==l["\u0275nov"](e,20).onTouched()&&i),"ngModelChange"===n&&(i=!1!==(a.idTramiteEstadoFilter=t)&&i),"change"===n&&(i=!1!==a.filterByTramiteState()&&i),i},null,null)),l["\u0275did"](20,16384,null,0,s.o,[l.Renderer2,l.ElementRef],null,null),l["\u0275prd"](1024,null,s.h,function(e){return[e]},[s.o]),l["\u0275did"](22,671744,null,0,s.m,[[8,null],[8,null],[8,null],[6,s.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),l["\u0275prd"](2048,null,s.i,null,[s.m]),l["\u0275did"](24,16384,null,0,s.j,[[4,s.i]],null,null),(e()(),l["\u0275eld"](25,0,null,null,3,"option",[["selected",""],["value","0"]],null,null,null,null,null)),l["\u0275did"](26,147456,null,0,s.n,[l.ElementRef,l.Renderer2,[2,s.o]],{value:[0,"value"]},null),l["\u0275did"](27,147456,null,0,s.t,[l.ElementRef,l.Renderer2,[8,null]],{value:[0,"value"]},null),(e()(),l["\u0275ted"](-1,null,["Todas"])),(e()(),l["\u0275and"](16777216,null,null,1,null,T)),l["\u0275did"](30,278528,null,0,c.NgForOf,[l.ViewContainerRef,l.TemplateRef,l.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),l["\u0275and"](16777216,null,null,1,null,D)),l["\u0275did"](32,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),l["\u0275eld"](33,0,null,null,2,"div",[["class","col-12 mt-2"],["style","width: 100%; overflow-x: auto;"]],null,null,null,null,null)),(e()(),l["\u0275eld"](34,0,null,null,1,"ng-table",[],null,[[null,"cellClicked"],[null,"tableChanged"]],function(e,n,t){var l=!0,i=e.component;return"cellClicked"===n&&(l=!1!==i.onCellClick(t)&&l),"tableChanged"===n&&(l=!1!==i.onChangeTable(i.config)&&l),l},d.b,d.a)),l["\u0275did"](35,49152,null,0,g.NgTableComponent,[p.DomSanitizer],{rows:[0,"rows"],config:[1,"config"],columns:[2,"columns"]},{tableChanged:"tableChanged",cellClicked:"cellClicked"}),(e()(),l["\u0275eld"](36,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),l["\u0275and"](16777216,null,null,1,null,M)),l["\u0275did"](38,16384,null,0,c.NgIf,[l.ViewContainerRef,l.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var t=n.component;e(n,12,0,t.config.filtering),e(n,22,0,"filter-tramite-estado",t.idTramiteEstadoFilter),e(n,26,0,"0"),e(n,27,0,"0"),e(n,30,0,t.estados_tramites),e(n,32,0,t.idTramiteEstadoFilter>0),e(n,35,0,t.rows,t.config,t.columns),e(n,38,0,t.config.paging)},function(e,n){e(n,19,0,l["\u0275nov"](n,24).ngClassUntouched,l["\u0275nov"](n,24).ngClassTouched,l["\u0275nov"](n,24).ngClassPristine,l["\u0275nov"](n,24).ngClassDirty,l["\u0275nov"](n,24).ngClassValid,l["\u0275nov"](n,24).ngClassInvalid,l["\u0275nov"](n,24).ngClassPending)})}var N=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),U=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function A(e){return l["\u0275vid"](0,[(e()(),l["\u0275ted"](-1,null,["coordinador-gestion-data dont works"]))],null,null)}var z=t("DaJy"),L=t("Guh9"),B=t("SwDF"),q=t("jbLj"),x=t("2Tfx"),O=function(){function e(e,n,t,l,i){this.consultorDataService=e,this.state_alojamiento_DataService=n,this.state_alimentos_bebidas_DataService=t,this.state_operacion_intermediacion_DataService=l,this.userDataService=i,this.user=new E.a,this.data_selected={row:null,register:null},this.states={alojamiento:[],alimentos_bebidas:[],operacion_intermediacion:[]},this.register_types=[],this.register_types_block={register_types_alojamiento:[],register_types_alimentos_bebidas:[],register_types_operacion_intermediacion:[]},this.estados_tramites=[],this.tecnicosFinancieros=[],this.tecnicosZonales=[]}return e.prototype.ngOnInit=function(){this.getStates(),this.getRegisterTypes(),this.getUser()},e.prototype.getUser=function(){var e=this;this.userDataService.get(JSON.parse(sessionStorage.getItem("user")).id).then(function(n){e.user=n}).catch(function(e){return console.log(e)})},e.prototype.getRegisterTypes=function(){var e=this;this.register_types=[];var n=[],t=[],l=[];this.consultorDataService.get_all_register_types().then(function(i){e.register_types=i,e.register_types.forEach(function(e){1==e.activity_id&&n.push(e.register_type),2==e.activity_id&&t.push(e.register_type),3==e.activity_id&&l.push(e.register_type)}),e.register_types_block.register_types_alojamiento=n,e.register_types_block.register_types_alimentos_bebidas=t,e.register_types_block.register_types_operacion_intermediacion=l}).catch(function(e){console.log(e)})},e.prototype.getStates=function(){var e=this;this.estados_tramites=[],this.states={alojamiento:[],alimentos_bebidas:[],operacion_intermediacion:[]},this.state_alojamiento_DataService.get().then(function(n){e.states.alojamiento=n,e.buildEstadostramite(e.states.alojamiento)}).catch(function(e){console.log(e)}),this.state_alimentos_bebidas_DataService.get().then(function(n){e.states.alimentos_bebidas=n,e.buildEstadostramite(e.states.alimentos_bebidas)}).catch(function(e){console.log(e)}),this.state_operacion_intermediacion_DataService.get().then(function(n){e.states.operacion_intermediacion=n,e.buildEstadostramite(e.states.operacion_intermediacion)}).catch(function(e){console.log(e)})},e.prototype.buildEstadostramite=function(e){var n=this;e.forEach(function(e){if("-"==e.father_code&&"Documentaci\xf3n Entregada"!=e.name){var t=!1;n.estados_tramites.forEach(function(n){n.name==e.name&&(t=!0)}),t||n.estados_tramites.push(e)}}),this.estados_tramites.sort(function(e,n){return e.name>n.name?1:e.name<n.name?-1:0})},e.prototype.register_selected=function(e){this.data_selected=e},e.prototype.financieros_change=function(e){this.tecnicosFinancieros=e},e.prototype.inspectores_change=function(e){this.tecnicosZonales=e},e}(),V=l["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function Y(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-coordinador-bandejas-data",[],null,[[null,"register_selected"],[null,"inspectores_change"],[null,"financieros_change"]],function(e,n,t){var l=!0,i=e.component;return"register_selected"===n&&(l=!1!==i.register_selected(t)&&l),"inspectores_change"===n&&(l=!1!==i.inspectores_change(t)&&l),"financieros_change"===n&&(l=!1!==i.financieros_change(t)&&l),l},P,S)),l["\u0275did"](1,638976,null,0,C,[_.a,v.a,h.a,b.a],{user:[0,"user"],estados_tramites:[1,"estados_tramites"],states:[2,"states"],register_types_block:[3,"register_types_block"]},{change:"register_selected",inspectores_change:"inspectores_change",financieros_change:"financieros_change"}),(e()(),l["\u0275eld"](2,0,null,null,1,"app-coordinador-gestion-data",[],null,null,null,A,U)),l["\u0275did"](3,114688,null,0,N,[],null,null),(e()(),l["\u0275eld"](4,0,null,null,1,"app-register-data",[],null,null,null,z.b,z.a)),l["\u0275did"](5,638976,null,0,L.a,[_.a],{data_selected_table:[0,"data_selected_table"]},null)],function(e,n){var t=n.component;e(n,1,0,t.user,t.estados_tramites,t.states,t.register_types_block),e(n,3,0),e(n,5,0,t.data_selected)},null)}function G(e){return l["\u0275vid"](0,[(e()(),l["\u0275eld"](0,0,null,null,1,"app-cliente-interno-coordinador",[],null,null,null,Y,V)),l["\u0275did"](1,114688,null,0,O,[_.a,B.a,q.a,x.a,b.a],null,null)],function(e,n){e(n,1,0)},null)}var Q=l["\u0275ccf"]("app-cliente-interno-coordinador",O,G,{},{},[]),J=t("BBZF"),K=t("Izlp"),Z=t("Ry/H"),H=t("rhjU"),X=t("sE5F"),W=t("dV+S"),$=t("ZYCi"),ee=t("3Cp6"),ne=t("rPlE"),te=t("H9RC"),le=t("yipI"),ie=t("+Uyi"),ae=t("KhKY"),oe=t("SSr2"),re=t("0Zic"),se=t("FVSd"),ue=t("wG/G"),ce=t("A65b"),de=t("z89T"),ge=t("hx3Q"),pe=t("wftt"),me=t("BRoz"),fe=t("b1Qd"),he=t("iYF/"),_e=t("N6VH"),ve=t("ALPY"),be=t("rCiw"),ye=t("7q7Q"),Ee=t("rYF7"),Re=t("vUtf"),Ce=t("1wkq"),Se=t("tCKL"),we=t("tZdX"),Te=t("eiqJ"),De=t("7WnB"),ke=t("FExI"),Fe=t("FhSF"),Ie=t("078p"),je=t("8Kln"),Me=t("LqiL"),Pe=t("EiH4"),Ne=t("V63N"),Ue=t("vUqE"),Ae=t("QkQD"),ze=t("3Nac"),Le=t("GSUL"),Be=t("eYel"),qe=t("mjTs"),xe=t("Xzm7"),Oe=t("UGkY"),Ve=t("XEkc"),Ye=t("7ePi"),Ge=t("+o/m"),Qe=t("/fSM"),Je=t("jVYb"),Ke=t("kY/A"),Ze=function(){return function(){}}(),He=t("524+"),Xe=t("Vw1a");t.d(n,"ClienteInternoCoordinadorModuleNgFactory",function(){return We});var We=l["\u0275cmf"](i,[],function(e){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,a.b,a.l,a.m,a.i,a.j,a.k,o.a,Q]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,c.NgLocalization,c.NgLocaleLocalization,[l.LOCALE_ID,[2,c["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,s.s,s.s,[]),l["\u0275mpd"](4608,u.y,u.y,[l.ComponentFactoryResolver,l.Injector,u.tb,u.z]),l["\u0275mpd"](4608,J.c,J.c,[]),l["\u0275mpd"](4608,J.b,J.b,[]),l["\u0275mpd"](4608,K.a,Z.b,[[2,Z.a],J.c,J.b]),l["\u0275mpd"](4608,H.b,H.b,[c.DOCUMENT,l.PLATFORM_ID]),l["\u0275mpd"](4608,b.a,b.a,[X.e]),l["\u0275mpd"](4608,W.a,W.a,[X.e,$.l]),l["\u0275mpd"](4608,ee.a,ee.a,[X.e,$.l]),l["\u0275mpd"](4608,ne.a,ne.a,[X.e,$.l]),l["\u0275mpd"](4608,te.a,te.a,[X.e,$.l]),l["\u0275mpd"](4608,le.a,le.a,[X.e,$.l]),l["\u0275mpd"](4608,ie.a,ie.a,[X.e,$.l]),l["\u0275mpd"](4608,ae.a,ae.a,[X.e,$.l]),l["\u0275mpd"](4608,_.a,_.a,[X.e,$.l]),l["\u0275mpd"](4608,oe.a,oe.a,[X.e,$.l]),l["\u0275mpd"](4608,re.a,re.a,[X.e,$.l]),l["\u0275mpd"](4608,se.a,se.a,[X.e,$.l]),l["\u0275mpd"](4608,ue.a,ue.a,[X.e,$.l]),l["\u0275mpd"](4608,ce.a,ce.a,[X.e,$.l]),l["\u0275mpd"](4608,de.a,de.a,[X.e,$.l]),l["\u0275mpd"](4608,ge.a,ge.a,[X.e,$.l]),l["\u0275mpd"](4608,pe.a,pe.a,[X.e,$.l]),l["\u0275mpd"](4608,me.a,me.a,[X.e,$.l]),l["\u0275mpd"](4608,fe.a,fe.a,[X.e,$.l]),l["\u0275mpd"](4608,he.a,he.a,[X.e,$.l]),l["\u0275mpd"](4608,_e.a,_e.a,[X.e,$.l]),l["\u0275mpd"](4608,ve.a,ve.a,[X.e,$.l]),l["\u0275mpd"](4608,be.a,be.a,[X.e,$.l]),l["\u0275mpd"](4608,ye.a,ye.a,[X.e,$.l]),l["\u0275mpd"](4608,Ee.a,Ee.a,[X.e,$.l]),l["\u0275mpd"](4608,Re.a,Re.a,[X.e,$.l]),l["\u0275mpd"](4608,Ce.a,Ce.a,[X.e,$.l]),l["\u0275mpd"](4608,Se.a,Se.a,[X.e,$.l]),l["\u0275mpd"](4608,we.a,we.a,[X.e,$.l]),l["\u0275mpd"](4608,Te.a,Te.a,[X.e,$.l]),l["\u0275mpd"](4608,De.a,De.a,[X.e,$.l]),l["\u0275mpd"](4608,ke.a,ke.a,[X.e,$.l]),l["\u0275mpd"](4608,Fe.a,Fe.a,[X.e,$.l]),l["\u0275mpd"](4608,Ie.a,Ie.a,[X.e,$.l]),l["\u0275mpd"](4608,je.a,je.a,[X.e,$.l]),l["\u0275mpd"](4608,Me.a,Me.a,[X.e,$.l]),l["\u0275mpd"](4608,Pe.a,Pe.a,[X.e,$.l]),l["\u0275mpd"](4608,Ne.a,Ne.a,[X.e,$.l]),l["\u0275mpd"](4608,Ue.a,Ue.a,[X.e,$.l]),l["\u0275mpd"](4608,Ae.a,Ae.a,[X.e,$.l]),l["\u0275mpd"](4608,ze.a,ze.a,[X.e,$.l]),l["\u0275mpd"](4608,Le.a,Le.a,[X.e,$.l]),l["\u0275mpd"](4608,Be.a,Be.a,[X.e,$.l]),l["\u0275mpd"](4608,v.a,v.a,[X.e,$.l]),l["\u0275mpd"](4608,qe.a,qe.a,[X.e,$.l]),l["\u0275mpd"](4608,xe.a,xe.a,[X.e,$.l]),l["\u0275mpd"](4608,Oe.a,Oe.a,[X.e,$.l]),l["\u0275mpd"](4608,Ve.a,Ve.a,[X.e,$.l]),l["\u0275mpd"](4608,B.a,B.a,[X.e,$.l]),l["\u0275mpd"](4608,q.a,q.a,[X.e,$.l]),l["\u0275mpd"](4608,x.a,x.a,[X.e,$.l]),l["\u0275mpd"](4608,h.a,h.a,[X.e,$.l]),l["\u0275mpd"](1073742336,c.CommonModule,c.CommonModule,[]),l["\u0275mpd"](1073742336,s.p,s.p,[]),l["\u0275mpd"](1073742336,s.e,s.e,[]),l["\u0275mpd"](1073742336,u.c,u.c,[]),l["\u0275mpd"](1073742336,u.f,u.f,[]),l["\u0275mpd"](1073742336,u.g,u.g,[]),l["\u0275mpd"](1073742336,u.k,u.k,[]),l["\u0275mpd"](1073742336,u.l,u.l,[]),l["\u0275mpd"](1073742336,u.q,u.q,[]),l["\u0275mpd"](1073742336,u.v,u.v,[]),l["\u0275mpd"](1073742336,u.A,u.A,[]),l["\u0275mpd"](1073742336,u.G,u.G,[]),l["\u0275mpd"](1073742336,u.Q,u.Q,[]),l["\u0275mpd"](1073742336,u.T,u.T,[]),l["\u0275mpd"](1073742336,u.W,u.W,[]),l["\u0275mpd"](1073742336,u.bb,u.bb,[]),l["\u0275mpd"](1073742336,u.fb,u.fb,[]),l["\u0275mpd"](1073742336,u.gb,u.gb,[]),l["\u0275mpd"](1073742336,u.hb,u.hb,[]),l["\u0275mpd"](1073742336,u.B,u.B,[]),l["\u0275mpd"](1073742336,Ye.b,Ye.b,[]),l["\u0275mpd"](1073742336,Ge.b,Ge.b,[]),l["\u0275mpd"](1073742336,Qe.a,Qe.a,[]),l["\u0275mpd"](1073742336,Je.b,Je.b,[]),l["\u0275mpd"](1073742336,Ke.Ng2TableModule,Ke.Ng2TableModule,[]),l["\u0275mpd"](1073742336,H.a,H.a,[]),l["\u0275mpd"](1073742336,$.o,$.o,[[2,$.u],[2,$.l]]),l["\u0275mpd"](1073742336,Ze,Ze,[]),l["\u0275mpd"](1073742336,He.a,He.a,[]),l["\u0275mpd"](1073742336,Xe.a,Xe.a,[]),l["\u0275mpd"](1073742336,i,i,[]),l["\u0275mpd"](1024,$.j,function(){return[[{path:"",component:O}]]},[]),l["\u0275mpd"](256,Z.a,{apiKey:"AIzaSyCGUwCcM-LKjRK4rjbBJ06_GLmX2LaYzfg"},[])])})}}]);